(this["webpackJsonpauth-crud"]=this["webpackJsonpauth-crud"]||[]).push([[0],{222:function(e,t,n){},340:function(e,t,n){"use strict";n.r(t);var a,r,i,c,o,s=n(0),l=n(31),u=n.n(l),d=(n(222),n(223),n(344)),b=n(348),j=n(350),p=n(12),h=n(352),O=n(349),f=n(347),m=n(35),E=function(e,t,n){switch(e){case"email":t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,20}$/i.test(t.email)||(n.email="Please provide valid email"):n.email="Required";break;case"phone":t.phone&&t.phone.length<10&&(n.phone="Phone number should be of 10 digits"),t.phone&&Number.isNaN(Number(t.phone))&&(n.phone="Please provide valid number")}},S=n(144),g=n(351),x=n(346),v=n(7),U=["input","meta","children","hasFeedback","label"],y=f.a.Item,R={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},_=function(e){return function(t){var n=t.input,a=t.meta,r=t.children,i=t.hasFeedback,c=t.label,o=Object(S.a)(t,U),s=a.touched&&a.invalid;return Object(v.jsx)(y,Object(p.a)(Object(p.a)({},R),{},{label:c,validateStatus:s?"error":"success",hasFeedback:i&&s,help:s&&a.error,children:Object(v.jsx)(e,Object(p.a)(Object(p.a)(Object(p.a)({},n),o),{},{children:r}))}))}},L=_(g.a),D=_(g.a.Password),w=_(x.a),T={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},I=Object(O.a)({form:"login",validate:function(e){var t={};return E("email",e,t),t}})((function(e){var t=e.handleSubmit,n=e.pristine,a=e.submitting,r=e.requestLogin;return Object(v.jsxs)("form",{onSubmit:t((function(e){return function(e){var t=e.email,n=e.password;r({username:t,password:n})}(e)})),children:[Object(v.jsx)(h.a,{label:"Email",name:"email",component:L,type:"email",placeholder:"Email",hasFeedback:!0}),Object(v.jsx)(h.a,{label:"Password",name:"password",component:D,type:"password",placeholder:"Password"}),Object(v.jsx)(f.a.Item,Object(p.a)(Object(p.a)({},T),{},{children:Object(v.jsx)(m.a,{type:"primary",disabled:n||a,htmlType:"submit",children:"Login"})}))]})})),C={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},F=Object(O.a)({form:"registration",validate:function(e){var t={};return E("email",e,t),e.password||(t.password="Required"),e.password!==e.confirmpassword&&(t.confirmpassword="Does not match with password"),t}})((function(e){var t=e.handleSubmit,n=e.pristine,a=e.submitting,r=e.requestRegistration;return Object(v.jsxs)("form",{onSubmit:t((function(e){return function(e){var t=e.email,n=e.password,a=e.birthdate;r({username:t,password:n,birthdate:a})}(e)})),children:[Object(v.jsx)(h.a,{label:"Email",name:"email",component:L,type:"email",placeholder:"Email",hasFeedback:!0}),Object(v.jsx)(h.a,{label:"Password",name:"password",component:D,type:"password",placeholder:"Password"}),Object(v.jsx)(h.a,{label:"Confirm Password",name:"confirmpassword",component:D,type:"password",placeholder:"Confirm Password"}),Object(v.jsx)(h.a,{label:"Filter dates",name:"birthdate",component:w,placeholder:"BirthDate",hasFeedback:!0,onFocus:function(e){return e.preventDefault()},onBlur:function(e){return e.preventDefault()}}),Object(v.jsx)(f.a.Item,Object(p.a)(Object(p.a)({},C),{},{children:Object(v.jsx)(m.a,{type:"primary",disabled:n||a,htmlType:"submit",children:"SignUp"})}))]})})),N=n(104),k=n(105),q=Object(k.a)("div")(a||(a=Object(N.a)(["\n    padding: 24px;\n    background-color: #f5f5f5;\n"]))),A=Object(k.a)(b.a)(r||(r=Object(N.a)(["\n    .ant-tabs-nav-wrap {\n        width: 100%;\n        justify-content: center;\n    }\n"]))),P=Object(k.a)("div")(i||(i=Object(N.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),Q=Object(k.a)("div")(c||(c=Object(N.a)(["\n    display: flex;\n    justify-content: center;\n"]))),G=Object(k.a)("div")(o||(o=Object(N.a)(["\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    padding-top: 120px;\n    .image-contain {\n        width: 100%;\n        height: 200px;\n    }\n    p {\n        margin-top: 10px;\n        font-size: 20px;\n        font-weight: 600;\n    }\n"]))),J=b.a.TabPane,B=n(58),X=n(211),M="USERS_REGISTER_START",V="USERS_REGISTER_SUCCESS",W="USERS_LOGIN_START",z="USERS_LOGIN_SUCCESS",Z="USERS_LOGIN_FAILURE",H="USERS_LOGOUT",K=function(e,t){return function(n){n({type:W});var a=localStorage.getItem("userDetails"),r=a&&JSON.parse(a);(null===r||void 0===r?void 0:r.username)===(null===e||void 0===e?void 0:e.username)&&(null===r||void 0===r?void 0:r.password)===(null===e||void 0===e?void 0:e.password)?(n(function(e){return{type:z,payload:e}}(r)),t.push("/list")):(X.b.error("Invalid credentials"),n({type:Z,payload:"Invalid credentials"}))}},Y=function(e,t){return function(n){if(n({type:M}),localStorage.getItem("userDetails")){var a=e?JSON.stringify(e):"";localStorage.setItem("userDetails",a)}else{localStorage.removeItem("userDetails");var r=e?JSON.stringify(e):"";localStorage.setItem("userDetails",r)}n({type:V,payload:e}),t.push("/")}},$=n(68),ee=Object($.a)({forceRefresh:!0}),te=Object(B.b)(null,(function(e){return{requestLogin:function(t){return e(K(t,ee))},requestRegistration:function(t){return e(Y(t,ee))}}}))((function(e){var t=e.requestLogin,n=e.requestRegistration;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(q,{children:Object(v.jsx)(j.a,{ghost:!1,title:"SignUp Page"})}),Object(v.jsxs)(A,{defaultActiveKey:"1",tabPosition:"top",children:[Object(v.jsx)(J,{tab:"Login",children:Object(v.jsx)(I,{requestLogin:t})},"1"),Object(v.jsx)(J,{tab:"Registration",children:Object(v.jsx)(F,{requestRegistration:n})},"2")]})]})})),ne=n(356),ae=n(215),re=n(155),ie=n(355),ce=n(343),oe=n(345),se=n(353),le=function(e){return null===e||void 0===e?void 0:e.map((function(e){return Object(p.a)(Object(p.a)({},e),{key:e.id})}))},ue=function(e){var t=e.usersData,n=e.usersListRequest,a=e.deleteUserRequest,r=t.usersListData,i=Object(s.useState)(!1),c=Object(re.a)(i,2),o=c[0],l=c[1],u=Object(s.useState)({}),d=Object(re.a)(u,2),b=d[0],j=d[1],p=Object(s.useState)(le(r||[])),h=Object(re.a)(p,2),O=h[0],f=h[1];Object(s.useEffect)((function(){n()}),[]),Object(s.useEffect)((function(){f(le(r))}),[r]);var E=function(e){var t,n=null===(t=O.filter((function(t){return t.id===e})))||void 0===t?void 0:t[0];j(n),l(!0)},S=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone",key:"phone",dataIndex:"phone"},{title:"Action",key:"action",render:function(e){return Object(v.jsxs)(ie.b,{size:"middle",children:[Object(v.jsx)(m.a,{onClick:function(){return E(e.id)},children:"View"}),Object(v.jsx)(m.a,{onClick:function(){return ee.push("/list/edit/".concat(e.id))},children:"Edit"}),Object(v.jsx)(ce.a,{title:"Are you sure to delete?",onConfirm:function(){return t=e.id,void a(t);var t},okText:"Yes",cancelText:"No",children:Object(v.jsx)(m.a,{children:"Delete"})})]})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(oe.a,{columns:S,dataSource:O}),Object(v.jsx)(Q,{children:Object(v.jsx)(m.a,{type:"primary",onClick:function(){return ee.push("/list/add")},children:"Add"})}),Object(v.jsx)(se.a,{title:"Basic Modal",visible:o,onOk:function(){l(!1)},onCancel:function(){l(!1)},children:Object(v.jsxs)(P,{children:[Object(v.jsx)("span",{children:"Name: ".concat(null===b||void 0===b?void 0:b.name)}),Object(v.jsx)("span",{children:"Email: ".concat(null===b||void 0===b?void 0:b.email)}),Object(v.jsx)("span",{children:"Phone: ".concat(null===b||void 0===b?void 0:b.phone)}),Object(v.jsx)("span",{children:"Website: ".concat(null===b||void 0===b?void 0:b.website)})]})})]})},de={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},be=Object(O.a)({form:"edit",validate:function(e){var t={};return e.name||(t.name="Required"),E("email",e,t),e.phone||(t.phone="Required"),e.website||(t.website="Required"),t}})((function(e){var t,n,a=e.handleSubmit,r=e.pristine,i=e.submitting,c=e.initialize,o=e.location,l=e.singleUserDataRequest,u=e.usersData,d=e.addUserRequest,b=e.editUserRequest,j=e.isEditRoute,O=u.singleUserData,E=null===o||void 0===o||null===(t=o.pathname)||void 0===t||null===(n=t.split("/"))||void 0===n?void 0:n[3];Object(s.useEffect)((function(){j&&l(E)}),[]),Object(s.useEffect)((function(){j&&c({name:null===O||void 0===O?void 0:O.name,email:null===O||void 0===O?void 0:O.email,phone:null===O||void 0===O?void 0:O.phone,website:null===O||void 0===O?void 0:O.website})}),[O]);return Object(v.jsxs)("form",{onSubmit:a((function(e){return t=e,void(j?b(E,t):d(t));var t})),children:[Object(v.jsx)(h.a,{label:"Name",name:"name",component:L,type:"text",placeholder:"Name",hasFeedback:!0}),Object(v.jsx)(h.a,{label:"Email",name:"email",component:L,type:"email",placeholder:"Email",hasFeedback:!0}),Object(v.jsx)(h.a,{label:"Phone",name:"phone",component:L,type:"text",placeholder:"Phone",hasFeedback:!0}),Object(v.jsx)(h.a,{label:"Website",name:"website",component:L,type:"text",placeholder:"Website",hasFeedback:!0}),Object(v.jsx)(f.a.Item,Object(p.a)(Object(p.a)({},de),{},{children:Object(v.jsx)(m.a,{type:"primary",disabled:r||i,htmlType:"submit",children:"Save"})}))]})})),je=Object(d.e)((function(e){var t=e.requestLogout;Object(s.useEffect)((function(){var e=localStorage.getItem("userDetails"),t=e&&JSON.parse(e);if(t&&t.birthdate){var n=new Date(t.birthdate).getMonth()-(new Date).getMonth(),a=new Date(new Date(t.birthdate)).getDate()-(new Date).getDate();0===n&&0===a&&ae.a.open({message:"Happy Birthday!",description:"Wishing you a very happy birthday!!!",icon:Object(v.jsx)(ne.a,{style:{color:"#108ee9"}})})}}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(q,{children:Object(v.jsx)(j.a,{ghost:!1,title:"User Details",extra:[Object(v.jsx)(m.a,{type:"primary",onClick:function(){return t()},children:"Logout"},"1")]})}),Object(v.jsxs)(d.d,{children:[Object(v.jsx)(d.b,{exact:!0,path:"/list",name:"Users List View",render:function(t){return Object(v.jsx)(ue,Object(p.a)(Object(p.a)({},t),e))}}),Object(v.jsx)(d.b,{exact:!0,path:"/list/add",name:"Add Users",render:function(t){return Object(v.jsx)(be,Object(p.a)(Object(p.a)({},t),e))}}),Object(v.jsx)(d.b,{exact:!0,path:"/list/edit/:id",name:"Edit Users",render:function(t){return Object(v.jsx)(be,Object(p.a)(Object(p.a)(Object(p.a)({},t),e),{},{isEditRoute:!0}))}})]})]})})),pe="USERS_LIST_REQUEST",he="USERS_LIST_REQUEST_SUCCESS",Oe="USERS_LIST_REQUEST_FAILURE",fe="SINGLE_USER_DATA_REQUEST",me="SINGLE_USER_DATA_REQUEST_SUCCESS",Ee="SINGLE_USER_DATA_REQUEST_FAILURE",Se="ADD_USER_REQUEST",ge="ADD_USER_REQUEST_SUCCESS",xe="ADD_USER_REQUEST_FAILURE",ve="EDIT_USER_REQUEST",Ue="EDIT_USER_REQUEST_SUCCESS",ye="EDIT_USER_REQUEST_FAILURE",Re="DELETE_USER_REQUEST",_e="DELETE_USER_REQUEST_SUCCESS",Le="DELETE_USER_REQUEST_FAILURE",De=function(){return function(e){e({type:pe});fetch("http://localhost:8000/users").then((function(e){return e.json()})).then((function(t){e({type:he,payload:t})})).catch((function(t){e(function(e){return{type:Oe,error:e}}(t))}))}},we=function(e){return function(t){t({type:fe});var n="http://localhost:8000/users/".concat(e);fetch(n).then((function(e){return e.json()})).then((function(e){t({type:me,payload:e})})).catch((function(e){t(function(e){return{type:Ee,error:e}}(e))}))}},Te=function(e,t){return function(n){n({type:Se}),fetch("http://localhost:8000/users",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){n({type:ge,payload:e}),t.push("/list")})).catch((function(e){n(function(e){return{type:xe,error:e}}(e))}))}},Ie=function(e,t,n){return function(a){a({type:ve}),fetch("http://localhost:8000/users/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){a({type:Ue,payload:e}),n.push("/list")})).catch((function(e){a(function(e){return{type:ye,error:e}}(e))}))}},Ce=function(e,t){return function(n){n({type:Re}),fetch("http://localhost:8000/users/".concat(e),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){n({type:_e,payload:e}),t.push("/list")})).catch((function(e){n(function(e){return{type:Le,error:e}}(e))}))}},Fe=Object(B.b)((function(e){return{usersData:e.user}}),(function(e){return{requestLogout:function(){return e((t=ee,localStorage.removeItem("userDetails"),t.push("/"),{type:H}));var t},usersListRequest:function(){return e(De())},singleUserDataRequest:function(t){return e(we(t))},addUserRequest:function(t){return e(Te(t,ee))},editUserRequest:function(t,n){return e(Ie(t,n,ee))},deleteUserRequest:function(t){return e(Ce(t,ee))}}}))(je),Ne=["component"],ke=function(e){var t=e.component,n=Object(S.a)(e,Ne);return Object(v.jsx)(d.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return localStorage.getItem("userDetails")?Object(v.jsx)(t,Object(p.a)({},e)):Object(v.jsx)(d.a,{to:{pathname:"/",state:{from:e.location}}})}}))},qe=function(e){var t=e.history;return Object(v.jsxs)(G,{children:[Object(v.jsx)("p",{children:"No Route Found"}),Object(v.jsx)(m.a,{type:"primary",onClick:function(){return t.push("/")},children:"Go back to home page!"})]})};var Ae=function(){return Object(v.jsxs)(d.d,{children:[Object(v.jsx)(d.b,{exact:!0,path:"/",component:te}),Object(v.jsx)(ke,{path:"/list",component:Fe}),Object(v.jsx)(d.b,{component:qe})]})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,357)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},Qe=n(32),Ge=n(354),Je={userDetails:{},error:null,loading:!1},Be={usersListData:[],singleUserData:{},error:null,isUserListLoading:!1,singleUserDataLoading:!1,addUserLoading:!1,editUserLoading:!1,deleteUserLoading:!1},Xe=Object(Qe.c)({form:Ge.a,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:case M:return Object(p.a)(Object(p.a)({},e),{error:null,loading:!0});case z:case V:return Object(p.a)(Object(p.a)({},e),{userDetails:t.payload,error:null,loading:!1});case Z:return Object(p.a)(Object(p.a)({},e),{error:t.payload,loading:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(p.a)(Object(p.a)({},e),{error:null,isUserListLoading:!0});case he:return Object(p.a)(Object(p.a)({},e),{usersListData:t.payload,error:null,isUserListLoading:!1});case Oe:return Object(p.a)(Object(p.a)({},e),{error:t.error,isUserListLoading:!1});case fe:return Object(p.a)(Object(p.a)({},e),{error:null,singleUserDataLoading:!0});case me:return Object(p.a)(Object(p.a)({},e),{singleUserData:t.payload,error:null,singleUserDataLoading:!1});case Ee:return Object(p.a)(Object(p.a)({},e),{error:t.error,singleUserDataLoading:!1});case Se:return Object(p.a)(Object(p.a)({},e),{error:null,addUserLoading:!0});case ge:return Object(p.a)(Object(p.a)({},e),{addUserLoading:!1});case xe:return Object(p.a)(Object(p.a)({},e),{error:t.error,addUserLoading:!1});case ve:return Object(p.a)(Object(p.a)({},e),{error:null,editUserLoading:!0});case Ue:return Object(p.a)(Object(p.a)({},e),{editUserLoading:!1});case ye:return Object(p.a)(Object(p.a)({},e),{error:t.error,editUserLoading:!1});case Re:return Object(p.a)(Object(p.a)({},e),{error:null,deleteUserLoading:!0});case _e:return Object(p.a)(Object(p.a)({},e),{deleteUserLoading:!1});case Le:return Object(p.a)(Object(p.a)({},e),{error:t.error,deleteUserLoading:!1});default:return e}}}),Me=Xe,Ve=n(207);var We=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:100})||Qe.d)(Object(Qe.a)(Ve.a),window.REDUX_DEVTOOLS_EXTENSION?window.devToolsExtension():function(e){return e})(Qe.e)(Me);u.a.render(Object(v.jsx)(B.a,{store:We,children:Object(v.jsx)(d.c,{history:ee,children:Object(v.jsx)(Ae,{})})}),document.getElementById("root")),Pe()}},[[340,1,2]]]);
//# sourceMappingURL=main.ce3294eb.chunk.js.map